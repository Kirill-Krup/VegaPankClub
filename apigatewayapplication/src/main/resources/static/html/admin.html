<!DOCTYPE html>
<html lang="ru">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Админ-панель - VegaPank Club</title>
  <link rel="stylesheet" href="/static/css/admin.css">
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
  <script src="/static/js/admin.js" defer></script>
  <link rel="icon" href="https://cdn.jsdelivr.net/gh/twitter/twemoji@14.0.2/assets/72x72/1f3ae.png">
  <meta name="theme-color" content="#0ea5e9">
</head>
<body>
<header class="header">
  <nav class="navbar">
    <div class="nav-container">
      <a class="nav-logo" href="index.html">
        <i class="fas fa-shield-alt"></i>
        <span>Админ-панель</span>
      </a>
      <div class="nav-actions">
        <button class="btn btn--secondary" id="logoutBtn">
          <i class="fas fa-sign-out-alt"></i>
          Выйти
        </button>
      </div>
    </div>
  </nav>
</header>

<div class="admin-container">
  <aside class="sidebar">
    <nav class="sidebar-nav">
      <button class="nav-item active" data-section="users">
        <i class="fas fa-users"></i>
        <span>Пользователи</span>
      </button>
      <button class="nav-item" data-section="products">
        <i class="fas fa-shopping-cart"></i>
        <span>Мини-бар</span>
      </button>
      <button class="nav-item" data-section="computers">
        <i class="fas fa-desktop"></i>
        <span>Компьютеры</span>
      </button>
      <button class="nav-item" data-section="tariffs">
        <i class="fas fa-ticket-alt"></i>
        <span>Тарифы</span>
      </button>
      <button class="nav-item" data-section="bookings">
        <i class="fas fa-calendar-check"></i>
        <span>Бронирования</span>
      </button>
      <button class="nav-item" data-section="orders">
        <i class="fas fa-receipt"></i>
        <span>Заказы мини-бара</span>
      </button>
      <button class="nav-item" data-section="reviews">
        <i class="fas fa-star"></i>
        <span>Отзывы</span>
      </button>
    </nav>
  </aside>

  <main class="content">
    <section class="section active" id="users">
      <div class="section-header">
        <h1>Управление пользователями</h1>
        <div class="search-box">
          <i class="fas fa-search"></i>
          <input type="text" placeholder="Поиск по имени или email..." id="userSearch">
        </div>
      </div>

      <div class="table-container">
        <table class="data-table">
          <thead>
          <tr>
            <th>ID</th>
            <th>Логин</th>
            <th>Email</th>
            <th>Баланс</th>
            <th>Бонусы</th>
            <th>Статус</th>
            <th>Действия</th>
          </tr>
          </thead>
          <tbody id="usersTableBody">
          <tr>
            <td colspan="7" style="text-align: center; padding: 2rem;">
              <i class="fas fa-spinner fa-spin" style="font-size: 2rem; color: var(--primary);"></i>
              <p style="margin-top: 1rem; color: var(--gray);">Загрузка пользователей...</p>
            </td>
          </tr>
          </tbody>
        </table>
      </div>
    </section>

    <section class="section" id="products">
      <div class="section-header">
        <h1>Управление мини-баром</h1>
        <button class="btn btn--primary" id="addProductBtn">
          <i class="fas fa-plus"></i>
          Добавить товар
        </button>
      </div>

      <div class="filter-buttons" id="categoryFilters">
        <button class="filter-btn active" data-category="all">Все</button>
        <button class="filter-btn" data-category="1">Напитки</button>
        <button class="filter-btn" data-category="2">Снэки</button>
        <button class="filter-btn" data-category="3">Сладости</button>
      </div>

      <div class="cards-grid" id="productsContainer"></div>
    </section>

    <section class="section" id="computers">
      <div class="section-header">
        <h1>Управление компьютерами</h1>
        <div class="section-actions">
          <div class="search-box">
            <i class="fas fa-search"></i>
            <input type="text" placeholder="Поиск по названию, CPU или комнате..." id="computerSearch">
          </div>
        </div>
      </div>
      <div class="table-container">
        <table class="data-table">
          <thead>
          <tr>
            <th>ID</th>
            <th>Компьютер / Комната</th>
            <th>CPU</th>
            <th>GPU</th>
            <th>RAM</th>
            <th>Монитор</th>
            <th>Статус</th>
            <th>Действия</th>
          </tr>
          </thead>
          <tbody id="computersTableBody">
          <tr>
            <td colspan="8" style="text-align: center; padding: 2rem;">
              <i class="fas fa-spinner fa-spin" style="font-size: 2rem; color: var(--primary);"></i>
              <p style="margin-top: 1rem; color: var(--gray);">Загрузка компьютеров...</p>
            </td>
          </tr>
          </tbody>
        </table>
      </div>
    </section>

    <section class="section" id="tariffs">
      <div class="section-header">
        <h1>Управление тарифами</h1>
        <button class="btn btn--primary" id="addTariffBtn">
          <i class="fas fa-plus"></i>
          Добавить тариф
        </button>
      </div>

      <div class="cards-grid" id="tariffsContainer">
      </div>
    </section>

    <section class="section" id="bookings">
      <div class="section-header">
        <h1>Управление бронированиями</h1>
      </div>
      <div class="placeholder-box">
        <i class="fas fa-calendar-check"></i>
        <p>Раздел в разработке</p>
      </div>
    </section>

    <section class="section" id="orders">
      <div class="section-header">
        <h1>Заказы мини-бара</h1>
        <div class="filter-buttons">
          <button class="filter-btn active" data-filter="all">Все</button>
          <button class="filter-btn" data-filter="pending">В ожидании</button>
          <button class="filter-btn" data-filter="completed">Завершённые</button>
        </div>
      </div>

      <div class="table-container">
        <table class="data-table">
          <thead>
          <tr>
            <th>ID заказа</th>
            <th>Пользователь</th>
            <th>Товары</th>
            <th>Сумма</th>
            <th>Статус</th>
            <th>Дата</th>
            <th>Действия</th>
          </tr>
          </thead>
          <tbody>
          <tr>
            <td>#1024</td>
            <td>kirito</td>
            <td>Coca-Cola x2, Чипсы x1</td>
            <td>11.00 BYN</td>
            <td><span class="status-badge status-pending">В ожидании</span></td>
            <td>31.10.2025 17:30</td>
            <td>
              <button class="btn-icon btn-success" title="Выполнен">
                <i class="fas fa-check"></i>
              </button>
            </td>
          </tr>
          <tr>
            <td>#1023</td>
            <td>asuna</td>
            <td>Red Bull x1</td>
            <td>5.00 BYN</td>
            <td><span class="status-badge status-completed">Завершён</span></td>
            <td>31.10.2025 16:15</td>
            <td>
              <button class="btn-icon btn-primary" title="Детали">
                <i class="fas fa-eye"></i>
              </button>
            </td>
          </tr>
          </tbody>
        </table>
      </div>
    </section>

    <section class="section" id="reviews">
      <div class="section-header">
        <h1>Управление отзывами</h1>
        <div class="filter-buttons">
          <button class="filter-btn active" data-filter="all">Все</button>
          <button class="filter-btn" data-filter="5">5 звёзд</button>
          <button class="filter-btn" data-filter="4">4 звезды</button>
          <button class="filter-btn" data-filter="3">3 звезды</button>
          <button class="filter-btn" data-filter="2">2 звезды</button>
          <button class="filter-btn" data-filter="1">1 звезда</button>
        </div>
      </div>

      <div class="reviews-list">
        <div class="review-card">
          <div class="review-header">
            <div class="review-user">
              <img src="https://i.pravatar.cc/50?img=1" alt="User">
              <div>
                <h4>kirito</h4>
                <div class="review-rating">
                  <i class="fas fa-star"></i>
                  <i class="fas fa-star"></i>
                  <i class="fas fa-star"></i>
                  <i class="fas fa-star"></i>
                  <i class="fas fa-star"></i>
                </div>
              </div>
            </div>
            <span class="review-date">30.10.2025</span>
          </div>
          <p class="review-text">
            Отличный клуб! Мощные компьютеры, отзывчивый персонал.
            Обязательно вернусь ещё!
          </p>
          <div class="review-actions">
            <button class="btn-icon btn-danger" title="Удалить отзыв">
              <i class="fas fa-trash"></i>
            </button>
          </div>
        </div>

        <div class="review-card">
          <div class="review-header">
            <div class="review-user">
              <img src="https://i.pravatar.cc/50?img=2" alt="User">
              <div>
                <h4>asuna</h4>
                <div class="review-rating">
                  <i class="fas fa-star"></i>
                  <i class="fas fa-star"></i>
                  <i class="fas fa-star"></i>
                  <i class="fas fa-star"></i>
                  <i class="far fa-star"></i>
                </div>
              </div>
            </div>
            <span class="review-date">29.10.2025</span>
          </div>
          <p class="review-text">
            Хорошее место, но хотелось бы больше VIP комнат.
            В остальном всё отлично!
          </p>
          <div class="review-actions">
            <button class="btn-icon btn-danger" title="Удалить отзыв">
              <i class="fas fa-trash"></i>
            </button>
          </div>
        </div>
      </div>
    </section>
  </main>
</div>

<!-- Add Bonus Modal -->
<div class="modal" id="bonusModal">
  <div class="modal-overlay"></div>
  <div class="modal-content">
    <div class="modal-header">
      <h3>Добавить бонусы</h3>
      <button class="modal-close">
        <i class="fas fa-times"></i>
      </button>
    </div>
    <div class="modal-body">
      <div class="form-group">
        <label>Пользователь</label>
        <input type="text" class="form-input" value="kirito" readonly>
      </div>
      <div class="form-group">
        <label>Количество бонусов</label>
        <input type="number" class="form-input" placeholder="Введите количество" min="1">
      </div>
    </div>
    <div class="modal-footer">
      <button class="btn btn--secondary">Отмена</button>
      <button class="btn btn--primary">Добавить</button>
    </div>
  </div>
</div>

<!-- Product Modal -->
<div class="modal" id="productModal">
  <div class="modal-overlay"></div>
  <div class="modal-content">
    <div class="modal-header">
      <h2>Добавить товар</h2>
      <button class="modal-close">
        <i class="fas fa-times"></i>
      </button>
    </div>
    <form id="productForm" class="modal-body">
      <div class="form-group">
        <label for="productName">Название товара *</label>
        <input type="text" id="productName" class="form-input" required>
      </div>

      <div class="form-group">
        <label for="productCategory">Категория *</label>
        <select id="productCategory" class="form-input" required>
          <option value="">Выберите категорию</option>
          <option value="1">Напитки</option>
          <option value="2">Снеки</option>
          <option value="3">Сладости</option>
        </select>
      </div>

      <div class="form-group">
        <label for="productPrice">Цена (BYN) *</label>
        <input type="number" id="productPrice" class="form-input" step="0.01" min="0" required>
      </div>

      <div class="form-group">
        <label for="productStock">Количество *</label>
        <input type="number" id="productStock" class="form-input" min="0" required>
      </div>

      <div class="form-group" id="productImageGroup">
        <label for="productImage">Изображение *</label>
        <input type="file" id="productImage" class="form-input" accept="image/*" required>
      </div>
    </form>
    <div class="modal-footer">
      <button type="button" class="btn btn--secondary" onclick="closeProductModal()">Отмена</button>
      <button type="submit" form="productForm" class="btn btn--primary">Сохранить</button>
    </div>
  </div>
</div>

<!-- Edit Computer Modal -->
<div class="modal" id="editComputerModal">
  <div class="modal-overlay"></div>
  <div class="modal-content">
    <div class="modal-header">
      <h2>Редактировать компьютер</h2>
      <button class="modal-close">
        <i class="fas fa-times"></i>
      </button>
    </div>
    <form id="editComputerForm" class="modal-body">
      <div class="form-group">
        <label for="editComputerName">Название *</label>
        <input type="text" id="editComputerName" name="pcName" class="form-input" required>
      </div>
      <div class="form-group">
        <label for="editComputerRoomName">Комната</label>
        <input type="text" id="editComputerRoomName" class="form-input" readonly>
        <input type="hidden" id="editComputerRoomId">
      </div>
      <div class="form-group">
        <label for="editComputerCpu">CPU *</label>
        <input type="text" id="editComputerCpu" name="pcCpu" class="form-input" required>
      </div>
      <div class="form-group">
        <label for="editComputerGpu">GPU *</label>
        <input type="text" id="editComputerGpu" name="pcGpu" class="form-input" required>
      </div>
      <div class="form-group">
        <label for="editComputerRam">RAM *</label>
        <input type="text" id="editComputerRam" name="pcRam" class="form-input" required>
      </div>
      <div class="form-group">
        <label for="editComputerMonitor">Монитор *</label>
        <input type="text" id="editComputerMonitor" name="pcMonitor" class="form-input" required>
      </div>
      <div class="form-row two-columns">
        <label class="checkbox-label">
          <input type="checkbox" id="editComputerStatus" name="pcStatus">
          <span class="checkmark"></span>
          Активен
        </label>
        <label class="checkbox-label">
          <input type="checkbox" id="editComputerOccupied" name="pcOccupied">
          <span class="checkmark"></span>
          Занят
        </label>
      </div>
    </form>
    <div class="modal-footer">
      <button type="button" class="btn btn--secondary" onclick="closeEditComputerModal()">Отмена</button>
      <button type="submit" form="editComputerForm" class="btn btn--primary">Сохранить изменения</button>
    </div>
  </div>
</div>

<!-- Edit Product Modal -->
<div class="modal" id="editProductModal">
  <div class="modal-overlay"></div>
  <div class="modal-content">
    <div class="modal-header">
      <h2>Редактировать товар</h2>
      <button class="modal-close">
        <i class="fas fa-times"></i>
      </button>
    </div>
    <form id="editProductForm" class="modal-body">
      <div class="form-group">
        <label for="editProductName">Название товара *</label>
        <input type="text" id="editProductName" class="form-input" required>
      </div>

      <div class="form-group">
        <label for="editProductCategory">Категория *</label>
        <select id="editProductCategory" class="form-input" required>
          <option value="">Выберите категорию</option>
          <option value="1">Напитки</option>
          <option value="2">Снеки</option>
          <option value="3">Сладости</option>
        </select>
      </div>

      <div class="form-group">
        <label for="editProductPrice">Цена (BYN) *</label>
        <input type="number" id="editProductPrice" class="form-input" step="0.01" min="0" required>
      </div>

      <div class="form-group">
        <label for="editProductStock">Количество *</label>
        <input type="number" id="editProductStock" class="form-input" min="0" required>
      </div>
    </form>
    <div class="modal-footer">
      <button type="button" class="btn btn--secondary">Отмена</button>
      <button type="submit" form="editProductForm" class="btn btn--primary">Сохранить изменения</button>
    </div>
  </div>
</div>

<!-- Модальное окно тарифа -->
<div class="modal" id="tariffModal">
  <div class="modal-overlay"></div>
  <div class="modal-content">
    <div class="modal-header">
      <h2>Добавить тариф</h2>
      <button class="modal-close">
        <i class="fas fa-times"></i>
      </button>
    </div>
    <form id="tariffForm" class="modal-body">
      <div class="form-group">
        <label for="tariffName">Название тарифа *</label>
        <input type="text" id="tariffName" class="form-input"
               placeholder="Например: Стандарт 3 часа"
               minlength="2" maxlength="100" required>
        <div class="form-hint">От 2 до 100 символов</div>
      </div>

      <div class="form-row">
        <div class="form-group">
          <label for="tariffPrice">Стоимость пакета (BYN) *</label>
          <input type="number" id="tariffPrice" class="form-input"
                 placeholder="15.00" step="0.01" min="0.01" required>
          <div class="form-hint">Общая стоимость пакета</div>
        </div>

        <div class="form-group">
          <label for="tariffHours">Количество часов *</label>
          <input type="number" id="tariffHours" class="form-input"
                 placeholder="3" min="1" max="24" required>
          <div class="form-hint">От 1 до 24 часов</div>
        </div>
      </div>

      <div class="form-group">
        <label class="checkbox-label">
          <input type="checkbox" id="tariffVip">
          <span class="checkmark"></span>
          VIP тариф
          <span class="checkbox-hint">Дополнительные привилегии и услуги</span>
        </label>
      </div>

      <div class="tariff-preview" id="tariffPreview">
        <h4>Предпросмотр:</h4>
        <div class="preview-content">
          <div class="preview-name" id="previewName">Название тарифа</div>
          <div class="preview-details">
            <span id="previewHours">1 час</span> •
            <span id="previewPrice">0.00 BYN</span>
          </div>
          <div class="preview-price-per-hour">
            ≈ <span id="previewPricePerHour">0.00 BYN/час</span>
          </div>
        </div>
      </div>
    </form>
    <div class="modal-footer">
      <button type="button" class="btn btn--secondary" onclick="closeTariffModal()">Отмена</button>
      <button type="submit" form="tariffForm" class="btn btn--primary">Сохранить тариф</button>
    </div>
  </div>
</div>

<div id="toastContainer"></div>
</body>
</html>
